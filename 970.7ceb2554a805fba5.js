"use strict";(self.webpackChunkngrx_rtk_query_app=self.webpackChunkngrx_rtk_query_app||[]).push([[970],{4970:(V,p,c)=>{c.r(p),c.d(p,{PaginationModule:()=>B});var s=c(6814),l=c(7379),g=c(2137),f=c(1993),h=c(7398);const d=(0,l.LC)({reducerPath:"rickMortyApi",baseQuery:(0,l.ni)({baseUrl:"https://rickandmortyapi.com/api/"}),endpoints:n=>({getCharacters:n.query({query:(o=1)=>`character?page=${o}`}),getEpisode:n.query({query:o=>`episode/${o}`})})}),{useGetCharactersQuery:y,useLazyGetEpisodeQuery:P}=d;var e=c(9212),_=function(n){return n.alive="alive",n.dead="dead",n.unknown="unknown",n}(_||{});function Z(n,o){1&n&&e._UZ(0,"div",12)}function T(n,o){if(1&n&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.hij(" ",null==t.episodeQuery.state().data?null:t.episodeQuery.state().data.name," ")}}let q=(()=>{class n{constructor(){this.episodeQuery=P(),this.statusTypes=_}ngOnInit(){this.episodeQuery.fetch(+this.character.episode[0].split("episode/")[1],{preferCacheValue:!0})}static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-character-card"]],inputs:{character:"character"},decls:20,vars:10,consts:[[1,"flex","h-full","flex-col","items-center","justify-center","rounded-lg","bg-white","p-4","shadow","transition-colors","duration-200","hover:bg-gray-100"],[1,"inline-flex","h-40","w-40","overflow-hidden","rounded-full","border","border-gray-200","shadow-lg","dark:border-gray-800"],[1,"h-full","w-full",3,"src","alt"],[1,"mt-4","text-xl","font-bold"],[1,"mt-1","text-sm","font-medium"],[1,"mt-1","flex","items-center","space-x-2"],[1,"h-3","w-3","rounded-full","shadow",3,"ngClass"],[1,"text-sm","font-medium"],[1,"mt-3","self-start","text-xs","text-gray-500","dark:text-gray-400"],[1,"inline-block","text-indigo-700","hover:text-indigo-800"],["class","ml-1 inline-block h-4 w-32 animate-pulse rounded bg-indigo-200",4,"ngIf","ngIfElse"],["episodeName",""],[1,"ml-1","inline-block","h-4","w-32","animate-pulse","rounded","bg-indigo-200"]],template:function(a,r){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"h2",3),e._uU(4),e.qZA(),e.TgZ(5,"h6",4),e._uU(6),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"span",6),e.TgZ(9,"h6",7),e._uU(10),e.qZA()(),e.TgZ(11,"p",8),e._uU(12," Last known location: "),e.TgZ(13,"span",9),e._uU(14),e.qZA()(),e.TgZ(15,"div",8),e._uU(16," First seen: "),e.YNc(17,Z,1,0,"div",10)(18,T,2,1,"ng-template",null,11,e.W1O),e.qZA()()),2&a){const m=e.MAs(19);e.xp6(2),e.Q6J("src",r.character.image,e.LSH)("alt",r.character.name),e.xp6(2),e.Oqu(r.character.name),e.xp6(2),e.AsE("",r.character.species," - ",r.character.gender,""),e.xp6(2),e.Q6J("ngClass",r.character.status.toLowerCase()===r.statusTypes.dead?"bg-red-400":r.character.status.toLowerCase()===r.statusTypes.alive?"bg-green-400":"bg-gray-400"),e.xp6(2),e.Oqu(r.character.status),e.xp6(4),e.Oqu(r.character.location.name),e.xp6(3),e.Q6J("ngIf",r.episodeQuery.state().isLoading)("ngIfElse",m)}},dependencies:[s.mk,s.O5],encapsulation:2,changeDetection:0})}return n})();const i=()=>["./"],C=()=>({page:1});function w(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onPageSelect(1))}),e._uU(1," 1 "),e.qZA()}2&n&&e.Q6J("routerLink",e.DdM(2,i))("queryParams",e.DdM(3,C))}const Q=()=>({page:2});function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onPageSelect(2))}),e._uU(1," 2 "),e.qZA()}2&n&&e.Q6J("routerLink",e.DdM(2,i))("queryParams",e.DdM(3,Q))}function v(n,o){1&n&&(e.TgZ(0,"span",12),e._uU(1," ... "),e.qZA())}const u=n=>({page:n});function J(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onPageSelect(r.currentPage-1))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",e.DdM(3,i))("queryParams",e.VKq(4,u,t.currentPage-1)),e.xp6(),e.hij(" ",t.currentPage-1," ")}}function A(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onPageSelect(r.currentPage+1))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",e.DdM(3,i))("queryParams",e.VKq(4,u,t.currentPage+1)),e.xp6(),e.hij(" ",t.currentPage+1," ")}}function L(n,o){1&n&&(e.TgZ(0,"span",12),e._uU(1," ... "),e.qZA())}function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onPageSelect(r.pages-1))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",e.DdM(3,i))("queryParams",e.VKq(4,u,t.pages-1)),e.xp6(),e.hij(" ",t.pages-1," ")}}function U(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onPageSelect(r.pages))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("routerLink",e.DdM(3,i))("queryParams",e.VKq(4,u,t.pages)),e.xp6(),e.hij(" ",t.pages," ")}}function F(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"button",2),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onPageSelect(r.currentPage-1))}),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"polyline",4),e.qZA()(),e.kcU(),e.TgZ(5,"div",5),e.YNc(6,w,2,4,"a",6)(7,b,2,4,"a",6)(8,v,2,0,"span",7)(9,J,2,6,"a",6),e.TgZ(10,"a",8),e._uU(11),e.qZA(),e.YNc(12,A,2,6,"a",6)(13,L,2,0,"span",7)(14,M,2,6,"a",6)(15,U,2,6,"a",6),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onPageSelect(r.currentPage+1))}),e.O4$(),e.TgZ(17,"svg",3),e._UZ(18,"polyline",10),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",1===t.currentPage?"cursor-not-allowed opacity-50":"hover:bg-gray-300")("disabled",1===t.currentPage)("routerLink",e.DdM(19,i))("queryParams",e.VKq(20,u,t.currentPage-1)),e.xp6(4),e.Q6J("ngIf",t.currentPage>2),e.xp6(),e.Q6J("ngIf",t.currentPage>3),e.xp6(),e.Q6J("ngIf",t.currentPage>4),e.xp6(),e.Q6J("ngIf",t.currentPage-1>=1),e.xp6(),e.Q6J("routerLink",e.DdM(22,i))("queryParams",e.VKq(23,u,t.currentPage)),e.xp6(),e.hij(" ",t.currentPage," "),e.xp6(),e.Q6J("ngIf",t.currentPage<t.pages),e.xp6(),e.Q6J("ngIf",t.currentPage+3<t.pages),e.xp6(),e.Q6J("ngIf",t.currentPage+2<t.pages),e.xp6(),e.Q6J("ngIf",t.currentPage+1<t.pages),e.xp6(),e.Q6J("ngClass",t.currentPage===+t.pages?"cursor-not-allowed opacity-50":"hover:bg-gray-300")("disabled",t.currentPage===+t.pages)("routerLink",e.DdM(25,i))("queryParams",e.VKq(26,u,t.currentPage+1))}}let I=(()=>{class n{constructor(){this.currentPage=0,this.pages=0,this.page=new e.vpe}onPageSelect(t){this.page.emit(t)}trackByFn(t){return t}static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-paginator"]],inputs:{currentPage:"currentPage",pages:"pages"},outputs:{page:"page"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"flex","text-gray-700"],["queryParamsHandling","merge",1,"mr-1","flex","h-12","w-12","items-center","justify-center","rounded-full","bg-gray-200","transition-colors","duration-200",3,"ngClass","disabled","routerLink","queryParams","click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8"],["points","15 18 9 12 15 6"],[1,"flex","h-12","rounded-full","bg-gray-200","font-medium"],["class","hidden w-12 items-center justify-center rounded-full leading-5 transition duration-200 ease-in hover:bg-indigo-300 md:flex","queryParamsHandling","merge",3,"routerLink","queryParams","click",4,"ngIf"],["class","hidden w-12 items-center justify-center rounded-full leading-5 transition duration-200 ease-in md:flex",4,"ngIf"],["queryParamsHandling","merge",1,"hidden","w-12","items-center","justify-center","rounded-full","bg-indigo-500","leading-5","transition","duration-200","ease-in","md:flex",3,"routerLink","queryParams"],["queryParamsHandling","merge",1,"ml-1","flex","h-12","w-12","items-center","justify-center","rounded-full","bg-gray-200","transition-colors","duration-200",3,"ngClass","disabled","routerLink","queryParams","click"],["points","9 18 15 12 9 6"],["queryParamsHandling","merge",1,"hidden","w-12","items-center","justify-center","rounded-full","leading-5","transition","duration-200","ease-in","hover:bg-indigo-300","md:flex",3,"routerLink","queryParams","click"],[1,"hidden","w-12","items-center","justify-center","rounded-full","leading-5","transition","duration-200","ease-in","md:flex"]],template:function(a,r){1&a&&e.YNc(0,F,19,28,"ng-container",0),2&a&&e.Q6J("ngIf",r.currentPage&&r.pages&&r.pages>1)},dependencies:[s.mk,s.O5,g.rH],encapsulation:2,changeDetection:0})}return n})();function j(n,o){if(1&n&&(e.TgZ(0,"pre"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Oqu(e.lcZ(2,1,t.charactersQuery().error))}}function H(n,o){1&n&&e._UZ(0,"app-character-card",9),2&n&&e.Q6J("character",o.$implicit)}function N(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,H,1,1,"app-character-card",8),e.qZA()),2&n){const t=o.ngIf,a=e.oxw();e.xp6(),e.Q6J("ngForOf",t)("ngForTrackBy",a.trackByFn)}}const D=()=>["./"],E=()=>({page:999}),K=[{path:"",component:(()=>{class n{constructor(t){this.route=t,this.page=(0,f.O4)(this.route.queryParams.pipe((0,h.U)(a=>+a?.page||1)),{initialValue:1}),this.charactersQuery=y(this.page)}trackByFn(t,a){return a.id}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(g.gz))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:10,vars:11,consts:[[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"btn-outline","btn-primary","w-32",3,"disabled","click"],[3,"currentPage","pages"],["queryParamsHandling","merge",1,"btn-outline","btn-primary",3,"disabled","routerLink","queryParams"],[4,"ngIf"],["class","grid gap-4 sm:grid-cols-2 lg:grid-cols-3",4,"ngIf"],[1,"grid","gap-4","sm:grid-cols-2","lg:grid-cols-3"],[3,"character",4,"ngFor","ngForOf","ngForTrackBy"],[3,"character"]],template:function(a,r){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return r.charactersQuery().refetch()}),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"app-paginator",3),e.qZA(),e.TgZ(6,"button",4),e._uU(7," Nav to bad page "),e.qZA()(),e.YNc(8,j,3,3,"pre",5)(9,N,2,2,"div",6),e.qZA()),2&a&&(e.xp6(2),e.Q6J("disabled",r.charactersQuery().isFetching),e.xp6(),e.hij(" ",r.charactersQuery().isFetching?"Fetching...":"Refresh"," "),e.xp6(2),e.Q6J("currentPage",r.charactersQuery().originalArgs||1)("pages",null==r.charactersQuery().data||null==r.charactersQuery().data.info?null:r.charactersQuery().data.info.pages),e.xp6(),e.Q6J("disabled",r.charactersQuery().isLoading)("routerLink",e.DdM(9,D))("queryParams",e.DdM(10,E)),e.xp6(2),e.Q6J("ngIf",r.charactersQuery().isError),e.xp6(),e.Q6J("ngIf",null==r.charactersQuery().data?null:r.charactersQuery().data.results))},dependencies:[s.sg,s.O5,g.rH,q,I,s.Ts],encapsulation:2,changeDetection:0})}return n})()}];let O=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({imports:[g.Bz.forChild(K),g.Bz]})}return n})(),B=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#n=this.\u0275mod=e.oAB({type:n});static#t=this.\u0275inj=e.cJS({providers:[(0,l.Nw)(d)],imports:[s.ez,O]})}return n})()}}]);