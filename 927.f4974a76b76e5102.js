"use strict";(self.webpackChunkngrx_rtk_query_app=self.webpackChunkngrx_rtk_query_app||[]).push([[927],{6927:(b,c,r)=>{r.r(c),r.d(c,{CounterModule:()=>Z});var s=r(4755),u=r(5030),p=r(3584),l=r(2953),d=r(2520),n=r(2223);const m=[{value:0,label:"0 - off"},{value:1e3,label:"1s"},{value:3e3,label:"3s"},{value:5e3,label:"5s"},{value:1e4,label:"10s"},{value:6e4,label:"1m"}];function g(e,i){if(1&e&&(n.TgZ(0,"option",7),n._uU(1),n.qZA()),2&e){const o=i.$implicit;n.Q6J("value",o.value),n.xp6(1),n.hij(" ",o.label," ")}}let C=(()=>{class e{constructor(){this.id="",this.pollingOptions=m,this.pollingInterval=(0,n.tdS)(this.pollingOptions[0].value),this.options=(0,n.Flj)(()=>({pollingInterval:this.pollingInterval()})),this.countQuery=(0,l.v)(this.options),this.increment=(0,l.k9)(),this.decrement=(0,l.bG)()}ngOnInit(){this.countQuery.fetch(this.id)}changePollingInterval(o){this.pollingInterval.set(+o)}incrementCounter(){this.increment.dispatch({id:this.id,amount:1})}decrementCounter(){this.decrement.dispatch({id:this.id,amount:1})}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-counter"]],inputs:{id:"id"},decls:12,vars:8,consts:[[1,"space-y-4"],[1,"text-md","font-medium"],[1,"flex","items-center","space-x-4"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,t){1&o&&(n.TgZ(0,"section",0)(1,"h1",1),n._uU(2),n.qZA(),n.TgZ(3,"div",2)(4,"button",3),n.NdJ("click",function(){return t.incrementCounter()}),n._uU(5," + "),n.qZA(),n.TgZ(6,"span",4),n._uU(7),n.qZA(),n.TgZ(8,"button",3),n.NdJ("click",function(){return t.decrementCounter()}),n._uU(9," - "),n.qZA(),n.TgZ(10,"select",5),n.NdJ("ngModelChange",function(_){return t.changePollingInterval(_)}),n.YNc(11,g,2,2,"option",6),n.qZA()()()),2&o&&(n.xp6(2),n.Oqu(t.id),n.xp6(2),n.Q6J("disabled",t.increment.state().isLoading),n.xp6(2),n.ekj("bg-green-100",t.countQuery.state().isFetching),n.xp6(1),n.Oqu((null==t.countQuery.state().data?null:t.countQuery.state().data.count)||0),n.xp6(1),n.Q6J("disabled",t.decrement.state().isLoading),n.xp6(2),n.Q6J("ngModel",t.pollingInterval()),n.xp6(1),n.Q6J("ngForOf",t.pollingOptions))},dependencies:[s.sg,u.YN,u.Kr,u.EJ,u.JJ,u.On],encapsulation:2,changeDetection:0}),e})();function h(e,i){if(1&e&&(n.TgZ(0,"div",11),n._UZ(1,"app-counter",12),n.qZA()),2&e){const o=i.$implicit;n.xp6(1),n.Q6J("id",o)}}const f=[{path:"",component:(()=>{class e{constructor(){this.countQuery=(0,l.X2)(),this.increment=(0,l.lE)(),this.decrement=(0,l.pn)(),this.counters=[]}addCounter(){this.counters=[...this.counters,(0,d.x0)()]}trackByFn(o,t){return t}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-counter-manager"]],decls:26,vars:7,consts:[[1,"space-y-8"],[1,"space-y-4"],[1,"text-xl","font-semibold"],[1,"flex","items-center","space-x-4"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"],[1,"btn-outline","btn-primary",3,"click"],[1,"mt-6","bg-gray-200","text-xs"],[1,"flex","items-center","space-x-8"],[1,"btn","btn-primary",3,"click"],["class","mt-6 w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-6","w-full"],[3,"id"]],template:function(o,t){1&o&&(n.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),n._uU(3,"Main Counter"),n.qZA(),n.TgZ(4,"div")(5,"div",3)(6,"button",4),n.NdJ("click",function(){return t.increment.dispatch(1)}),n._uU(7," + "),n.qZA(),n.TgZ(8,"span",5),n._uU(9),n.qZA(),n.TgZ(10,"button",6),n.NdJ("click",function(){return t.decrement.dispatch(1)}),n._uU(11,"-"),n.qZA()(),n.TgZ(12,"small"),n._uU(13,"Decrease is a optimistic update!"),n.qZA(),n.TgZ(14,"p",7)(15,"code"),n._uU(16),n.ALo(17,"json"),n.qZA()()()(),n.TgZ(18,"section",1),n._UZ(19,"hr"),n.TgZ(20,"div",8)(21,"h1",2),n._uU(22,"Counters List"),n.qZA(),n.TgZ(23,"button",9),n.NdJ("click",function(){return t.addCounter()}),n._uU(24,"Add individual counter"),n.qZA()(),n.YNc(25,h,2,1,"div",10),n.qZA()()),2&o&&(n.xp6(6),n.Q6J("disabled",t.increment.state().isLoading),n.xp6(3),n.Oqu((null==t.countQuery().data?null:t.countQuery().data.count)||0),n.xp6(7),n.Oqu(n.lcZ(17,5,t.countQuery())),n.xp6(9),n.Q6J("ngForOf",t.counters)("ngForTrackBy",t.trackByFn))},dependencies:[s.sg,C,s.Ts],encapsulation:2,changeDetection:0}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(f),p.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[s.ez,v,u.u5]}),e})()}}]);