"use strict";(self.webpackChunkngrx_rtk_query_app=self.webpackChunkngrx_rtk_query_app||[]).push([[800],{5800:(R,c,s)=>{s.r(c),s.d(c,{LazyModule:()=>C});var m=s(1368),r=s(4716),l=s(4328),p=s(1528),u=s(4836),t=s(4496);let y=(()=>{class n{constructor(){this.increment=(0,u.EW)(),this.decrement=(0,u.In)()}incrementCounter(){this.increment.dispatch({id:this.counterData?.originalArgs??"",amount:1})}decrementCounter(){this.decrement.dispatch({id:this.counterData?.originalArgs??"",amount:1})}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-counter-row"]],inputs:{counterData:"counterData"},decls:7,vars:5,consts:[[1,"mt-4","flex","items-center","space-x-4"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"]],template:function(o,e){1&o&&(t.I0R(0,"div",0)(1,"button",1),t.qCj("click",function(){return e.incrementCounter()}),t.OEk(2," + "),t.C$Y(),t.I0R(3,"span",2),t.OEk(4),t.C$Y(),t.I0R(5,"button",1),t.qCj("click",function(){return e.decrementCounter()}),t.OEk(6," - "),t.C$Y()()),2&o&&(t.yG2(),t.E7m("disabled",e.increment.state().isLoading||(null==e.counterData?null:e.counterData.isUninitialized)),t.yG2(2),t.eAK("bg-green-100",null==e.counterData?null:e.counterData.isFetching),t.yG2(),t.cNF((null==e.counterData||null==e.counterData.data?null:e.counterData.data.count)||0),t.yG2(),t.E7m("disabled",e.decrement.state().isLoading||(null==e.counterData?null:e.counterData.isUninitialized)))},encapsulation:2,changeDetection:0})}return n})();const{getCountById:d}=u.counterApiEndpoints,h=[{path:"",component:(()=>{class n{constructor(a){this.formBuilder=a,this.countLazyQuery=(0,u.$j)(),this.selectFromState=d.useQueryState(this.countLazyQuery.lastArg),this.countQuery=(0,u.qI)(this.countLazyQuery.lastArg),this.form=this.formBuilder.group({id:["",[r.AQ.required,r.AQ.minLength(2)]],preferCacheValue:[!1]})}startCounterById({id:a,preferCacheValue:o}){var e=this;return(0,p.c)(function*(){e.countLazyQuery.fetch(a,{preferCacheValue:o}).unwrap().then(i=>{console.log("result method 1",i),e.form.reset()}).catch(console.error);try{const i=yield e.countLazyQuery.fetch(a,{preferCacheValue:o}).unwrap();console.log("result method 2",i),e.form.reset()}catch(i){console.error(i)}})()}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(r.KE))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["app-lazy"]],decls:35,vars:8,consts:[[1,"space-y-6"],[3,"formGroup","ngSubmit"],[1,"text-xl","font-semibold"],["type","text","placeholder","Type counter id","formControlName","id"],["type","submit",1,"btn","btn-primary","m-4",3,"disabled"],["for","preferCacheValue",1,"space-x-2","text-sm"],["id","preferCacheValue","type","checkbox","formControlName","preferCacheValue"],[1,"space-y-4"],[1,"text-md","font-medium"],[3,"counterData"],[1,"mt-8","space-y-8"],[1,"text-sm"]],template:function(o,e){1&o&&(t.I0R(0,"div",0)(1,"form",1),t.qCj("ngSubmit",function(){return e.startCounterById(e.form.value)}),t.I0R(2,"h1",2),t.OEk(3,"Start Lazy Counter"),t.C$Y(),t.I0R(4,"div"),t.wR5(5,"input",3),t.I0R(6,"button",4),t.OEk(7),t.C$Y(),t.I0R(8,"label",5),t.wR5(9,"input",6),t.I0R(10,"span"),t.OEk(11,"Prefer Cache (No fetch if counter exists with same id in cache)"),t.C$Y()()()(),t.I0R(12,"section",7)(13,"h1",8),t.OEk(14),t.C$Y(),t.wR5(15,"app-counter-row",9),t.C$Y()(),t.I0R(16,"div",10)(17,"section",7)(18,"h1",8),t.OEk(19,"Duplicate state (Share state, subscription & selectFromResult)"),t.C$Y(),t.I0R(20,"h1",11),t.OEk(21,"Use in same component (not subscripted by self)"),t.C$Y(),t.wR5(22,"app-counter-row",9),t.C$Y(),t.I0R(23,"section",7)(24,"h1",8),t.OEk(25,"Select from state (Share state & subscription, another selectFromResult)"),t.C$Y(),t.I0R(26,"h1",11),t.OEk(27,"Use in same component or child components (not subscripted by self)"),t.C$Y(),t.wR5(28,"app-counter-row",9),t.C$Y(),t.I0R(29,"section",7)(30,"h1",8),t.OEk(31," Related Query (Share cache data / another subscription & selectFromResult or Options) "),t.C$Y(),t.I0R(32,"h1",11),t.OEk(33,"Use anywhere (subscripted by self), skip subscribe with uninitialized value"),t.C$Y(),t.wR5(34,"app-counter-row",9),t.C$Y()()),2&o&&(t.yG2(),t.E7m("formGroup",e.form),t.yG2(5),t.E7m("disabled",e.form.invalid||e.countLazyQuery.state().isLoading),t.yG2(),t.oRS(" ",e.countLazyQuery.state().isLoading?"Starting...":"Start Counter"," "),t.yG2(7),t.oRS("Current id: ",e.countLazyQuery.state().originalArgs||"Not Started",""),t.yG2(),t.E7m("counterData",e.countLazyQuery.state()),t.yG2(7),t.E7m("counterData",e.countLazyQuery.state()),t.yG2(6),t.E7m("counterData",e.selectFromState()),t.yG2(6),t.E7m("counterData",e.countQuery()))},dependencies:[r.sz,r.ot,r.SU,r.ue,r.u,r.uW,r.Wo,y],encapsulation:2,changeDetection:0})}return n})()}];let f=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.a4G({type:n});static#n=this.\u0275inj=t.s3X({imports:[l.qQ.forChild(h),l.qQ]})}return n})(),C=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.a4G({type:n});static#n=this.\u0275inj=t.s3X({imports:[m.MD,f,r.y,r.sl]})}return n})()}}]);