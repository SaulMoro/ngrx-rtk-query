"use strict";(self.webpackChunkngrx_rtk_query_app=self.webpackChunkngrx_rtk_query_app||[]).push([[995],{3995:(z,_,u)=>{u.r(_),u.d(_,{LazyModule:()=>i});var p=u(6895),a=u(433),Z=u(5737);function C(o,n,e,r,c,h,y){try{var g=o[h](y),l=g.value}catch(J){return void e(J)}g.done?n(l):Promise.resolve(l).then(r,c)}var m=u(2953),t=u(4650);function x(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.incrementCounter())}),t._uU(1," + "),t.qZA()}if(2&o){const e=n.ngIf,r=t.oxw();t.Q6J("disabled",e.isLoading||(null==r.counterData?null:r.counterData.isUninitialized))}}function A(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.decrementCounter())}),t._uU(1," - "),t.qZA()}if(2&o){const e=n.ngIf,r=t.oxw();t.Q6J("disabled",e.isLoading||(null==r.counterData?null:r.counterData.isUninitialized))}}class d{constructor(){this.increment=(0,m.k9)(),this.decrement=(0,m.bG)()}incrementCounter(){this.increment.dispatch({id:this.counterData?.originalArgs??"",amount:1})}decrementCounter(){this.decrement.dispatch({id:this.counterData?.originalArgs??"",amount:1})}}function T(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"form",4),t.NdJ("ngSubmit",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.startCounterById(c.form.value))}),t.TgZ(2,"h1",5),t._uU(3,"Start Lazy Counter"),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"input",6),t.TgZ(6,"button",7),t._uU(7),t.qZA(),t.TgZ(8,"label",8),t._UZ(9,"input",9),t.TgZ(10,"span"),t._uU(11,"Prefer Cache (No fetch if counter exists with same id in cache)"),t.qZA()()()(),t.TgZ(12,"section",10)(13,"h1",11),t._uU(14),t.qZA(),t._UZ(15,"app-counter-row",12),t.qZA()()}if(2&o){const e=n.ngIf,r=t.oxw();t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("disabled",r.form.invalid||e.isLoading),t.xp6(1),t.hij(" ",e.isLoading?"Starting...":"Start Counter"," "),t.xp6(7),t.hij("Current id: ",e.originalArgs||"Not Started",""),t.xp6(1),t.Q6J("counterData",e)}}function Q(o,n){if(1&o&&(t.TgZ(0,"section",10)(1,"h1",11),t._uU(2,"Duplicate state (Share state, subscription & selectFromResult)"),t.qZA(),t.TgZ(3,"h1",13),t._uU(4,"Use in same component (not subscripted by self)"),t.qZA(),t._UZ(5,"app-counter-row",12),t.qZA()),2&o){const e=n.ngIf;t.xp6(5),t.Q6J("counterData",e)}}function v(o,n){if(1&o&&(t.TgZ(0,"section",10)(1,"h1",11),t._uU(2,"Select from state (Share state & subscription, another selectFromResult)"),t.qZA(),t.TgZ(3,"h1",13),t._uU(4,"Use in same component or child components (not subscripted by self)"),t.qZA(),t._UZ(5,"app-counter-row",12),t.qZA()),2&o){const e=n.ngIf;t.xp6(5),t.Q6J("counterData",e)}}function w(o,n){if(1&o&&(t.TgZ(0,"section",10)(1,"h1",11),t._uU(2," Related Query (Share cache data / another subscription & selectFromResult or Options) "),t.qZA(),t.TgZ(3,"h1",13),t._uU(4,"Use anywhere (subscripted by self), skip subscribe with uninitialized value"),t.qZA(),t._UZ(5,"app-counter-row",12),t.qZA()),2&o){const e=n.ngIf;t.xp6(5),t.Q6J("counterData",e)}}d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-counter-row"]],inputs:{counterData:"counterData"},decls:7,vars:9,consts:[[1,"mt-4","flex","items-center","space-x-4"],["class","btn-outline btn-primary",3,"disabled","click",4,"ngIf"],[1,"text-3xl","font-bold"],[1,"btn-outline","btn-primary",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,x,2,1,"button",1),t.ALo(2,"async"),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.YNc(5,A,2,1,"button",1),t.ALo(6,"async"),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,5,e.increment.state$)),t.xp6(2),t.ekj("bg-green-100",null==e.counterData?null:e.counterData.isFetching),t.xp6(1),t.Oqu((null==e.counterData||null==e.counterData.data?null:e.counterData.data.count)||0),t.xp6(1),t.Q6J("ngIf",t.lcZ(6,7,e.decrement.state$)))},dependencies:[p.O5,p.Ov],encapsulation:2,changeDetection:0});const{getCountById:L}=m.JI;class f{constructor(n){this.formBuilder=n,this.countQuery=(0,m.v)(),this.selectFromState$=L.useQueryState(this.countQuery.lastArg$),this.countQuery$=(0,m._o)(this.countQuery.lastArg$),this.form=this.formBuilder.group({id:["",[a.kI.required,a.kI.minLength(2)]],preferCacheValue:[!1]})}startCounterById({id:n,preferCacheValue:e}){var r=this;return function b(o){return function(){var n=this,e=arguments;return new Promise(function(r,c){var h=o.apply(n,e);function y(l){C(h,r,c,y,g,"next",l)}function g(l){C(h,r,c,y,g,"throw",l)}y(void 0)})}}(function*(){r.countQuery.fetch(n,{preferCacheValue:e}).unwrap().then(c=>{console.log("result method 1",c),r.form.reset()}).catch(console.error);try{const c=yield r.countQuery.fetch(n,{preferCacheValue:e}).unwrap();console.log("result method 2",c),r.form.reset()}catch(c){console.error(c)}})()}}f.\u0275fac=function(n){return new(n||f)(t.Y36(a.QS))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-lazy"]],decls:9,vars:12,consts:[["class","space-y-6",4,"ngIf"],[1,"mt-8","space-y-8"],["class","space-y-4",4,"ngIf"],[1,"space-y-6"],[3,"formGroup","ngSubmit"],[1,"text-xl","font-semibold"],["type","text","placeholder","Type counter id","formControlName","id"],["type","submit",1,"btn","btn-primary","m-4",3,"disabled"],["for","preferCacheValue",1,"space-x-2","text-sm"],["id","preferCacheValue","type","checkbox","formControlName","preferCacheValue"],[1,"space-y-4"],[1,"text-md","font-medium"],[3,"counterData"],[1,"text-sm"]],template:function(n,e){1&n&&(t.YNc(0,T,16,5,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.YNc(3,Q,6,1,"section",2),t.ALo(4,"async"),t.YNc(5,v,6,1,"section",2),t.ALo(6,"async"),t.YNc(7,w,6,1,"section",2),t.ALo(8,"async"),t.qZA()),2&n&&(t.Q6J("ngIf",t.lcZ(1,4,e.countQuery.state$)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,6,e.countQuery.state$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,e.selectFromState$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,10,e.countQuery$)))},dependencies:[p.O5,a._Y,a.Fj,a.Wl,a.JJ,a.JL,a.sg,a.u,d,p.Ov],encapsulation:2,changeDetection:0});const U=[{path:"",component:f}];class s{}s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[Z.Bz.forChild(U),Z.Bz]});class i{}i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,s,a.u5,a.UX]})}}]);