(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{AtbB:function(n,t,e){"use strict";e.r(t),e.d(t,"CounterModule",function(){return N});var c=e("ofXK"),i=e("3Pt+"),b=e("tyNb"),o=e("i7Pf"),a=e("dJ3e"),l=e("fXoL"),s=e("2Vo4"),r=e("lJxs");const u=[{value:0,label:"0 - off"},{value:1e3,label:"1s"},{value:3e3,label:"3s"},{value:5e3,label:"5s"},{value:1e4,label:"10s"},{value:6e4,label:"1m"}];function d(n,t){if(1&n){const n=l.Pb();l.Ob(0,"button",7),l.Vb("click",function(){return l.fc(n),l.Xb().incrementCounter()}),l.kc(1," + "),l.Nb()}2&n&&l.ac("disabled",t.ngIf.isLoading)}function f(n,t){if(1&n&&(l.Ob(0,"span",8),l.kc(1),l.Nb()),2&n){const n=t.ngIf;l.Bb("bg-green-100",n.isFetching),l.zb(1),l.lc((null==n.data?null:n.data.count)||0)}}function p(n,t){if(1&n){const n=l.Pb();l.Ob(0,"button",7),l.Vb("click",function(){return l.fc(n),l.Xb().decrementCounter()}),l.kc(1," - "),l.Nb()}2&n&&l.ac("disabled",t.ngIf.isLoading)}function g(n,t){if(1&n&&(l.Ob(0,"option",9),l.kc(1),l.Nb()),2&n){const n=t.$implicit;l.ac("value",n.value),l.zb(1),l.mc(" ",n.label," ")}}let m=(()=>{class n{constructor(){this.id="",this.increment=Object(a.f)(),this.decrement=Object(a.b)(),this.pollingOptions=u,this.pollingInterval=new s.a(this.pollingOptions[0].value),this.pollingInterval$=this.pollingInterval.asObservable()}ngOnInit(){this.countQuery$=Object(a.d)(this.id,this.pollingInterval$.pipe(Object(r.a)(n=>({pollingInterval:n}))))}changePollingInterval(n){this.pollingInterval.next(+n)}incrementCounter(){this.increment.dispatch({id:this.id,amount:1})}decrementCounter(){this.decrement.dispatch({id:this.id,amount:1})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Db({type:n,selectors:[["app-counter"]],inputs:{id:"id"},decls:13,vars:14,consts:[[1,"space-y-4"],[1,"font-medium","text-md"],[1,"flex","items-center","space-x-4"],["class","btn-outline btn-primary",3,"disabled","click",4,"ngIf"],["class","text-3xl font-bold",3,"bg-green-100",4,"ngIf"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"],[3,"value"]],template:function(n,t){1&n&&(l.Ob(0,"section",0),l.Ob(1,"h1",1),l.kc(2),l.Nb(),l.Ob(3,"div",2),l.ic(4,d,2,1,"button",3),l.Yb(5,"async"),l.ic(6,f,2,3,"span",4),l.Yb(7,"async"),l.ic(8,p,2,1,"button",3),l.Yb(9,"async"),l.Ob(10,"select",5),l.Vb("ngModelChange",function(n){return t.changePollingInterval(n)}),l.Yb(11,"async"),l.ic(12,g,2,2,"option",6),l.Nb(),l.Nb(),l.Nb()),2&n&&(l.zb(2),l.lc(t.id),l.zb(2),l.ac("ngIf",l.Zb(5,6,t.increment.state$)),l.zb(2),l.ac("ngIf",l.Zb(7,8,t.countQuery$)),l.zb(2),l.ac("ngIf",l.Zb(9,10,t.decrement.state$)),l.zb(2),l.ac("ngModel",l.Zb(11,12,t.pollingInterval$)),l.zb(2),l.ac("ngForOf",t.pollingOptions))},directives:[c.k,i.i,i.e,i.f,c.j,i.g,i.k],pipes:[c.b],encapsulation:2,changeDetection:0}),n})();function O(n,t){if(1&n){const n=l.Pb();l.Ob(0,"button",11),l.Vb("click",function(){return l.fc(n),l.Xb().increment.dispatch(1)}),l.kc(1," + "),l.Nb()}2&n&&l.ac("disabled",t.ngIf.isLoading)}function h(n,t){if(1&n&&(l.Ob(0,"span",12),l.kc(1),l.Nb()),2&n){const n=t.ngIf;l.zb(1),l.lc((null==n.data?null:n.data.count)||0)}}function v(n,t){if(1&n&&(l.Ob(0,"div",13),l.Kb(1,"app-counter",14),l.Nb()),2&n){const n=t.$implicit;l.zb(1),l.ac("id",n)}}const k=[{path:"",component:(()=>{class n{constructor(){this.countQuery$=Object(a.e)(),this.increment=Object(a.g)(),this.decrement=Object(a.c)(),this.counters=[]}addCounter(){this.counters=[...this.counters,Object(o.j)()]}trackByFn(n,t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Db({type:n,selectors:[["app-counter-manager"]],decls:27,vars:13,consts:[[1,"space-y-8"],[1,"space-y-4"],[1,"text-xl","font-semibold"],[1,"flex","items-center","space-x-4"],["class","btn-outline btn-primary",3,"disabled","click",4,"ngIf"],["class","text-3xl font-bold",4,"ngIf"],[1,"btn-outline","btn-primary",3,"click"],[1,"mt-6","text-xs","bg-gray-200"],[1,"flex","items-center","space-x-8"],[1,"btn","btn-primary",3,"click"],["class","w-full mt-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"],[1,"w-full","mt-6"],[3,"id"]],template:function(n,t){1&n&&(l.Ob(0,"div",0),l.Ob(1,"section",1),l.Ob(2,"h1",2),l.kc(3,"Main Counter"),l.Nb(),l.Ob(4,"div"),l.Ob(5,"div",3),l.ic(6,O,2,1,"button",4),l.Yb(7,"async"),l.ic(8,h,2,1,"span",5),l.Yb(9,"async"),l.Ob(10,"button",6),l.Vb("click",function(){return t.decrement.dispatch(1)}),l.kc(11,"-"),l.Nb(),l.Nb(),l.Ob(12,"small"),l.kc(13,"Decrease is a optimistic update!"),l.Nb(),l.Ob(14,"p",7),l.Ob(15,"code"),l.kc(16),l.Yb(17,"json"),l.Yb(18,"async"),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(19,"section",1),l.Kb(20,"hr"),l.Ob(21,"div",8),l.Ob(22,"h1",2),l.kc(23,"Counters List"),l.Nb(),l.Ob(24,"button",9),l.Vb("click",function(){return t.addCounter()}),l.kc(25,"Add individual counter"),l.Nb(),l.Nb(),l.ic(26,v,2,1,"div",10),l.Nb(),l.Nb()),2&n&&(l.zb(6),l.ac("ngIf",l.Zb(7,5,t.increment.state$)),l.zb(2),l.ac("ngIf",l.Zb(9,7,t.countQuery$)),l.zb(8),l.lc(l.Zb(17,9,l.Zb(18,11,t.countQuery$))),l.zb(10),l.ac("ngForOf",t.counters)("ngForTrackBy",t.trackByFn))},directives:[c.k,c.j,m],pipes:[c.b,c.f],encapsulation:2,changeDetection:0}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({imports:[[b.j.forChild(k)],b.j]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({imports:[[c.c,y,i.d]]}),n})()}}]);