(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{AtbB:function(n,t,c){"use strict";c.r(t),c.d(t,"CounterModule",function(){return N});var e=c("ofXK"),i=c("3Pt+"),o=c("tyNb"),b=c("i7Pf"),s=c("dJ3e"),l=c("fXoL"),a=c("2Vo4"),r=c("lJxs");const u=[{value:0,label:"0 - off"},{value:1e3,label:"1s"},{value:3e3,label:"3s"},{value:5e3,label:"5s"},{value:1e4,label:"10s"},{value:6e4,label:"1m"}];function d(n,t){if(1&n){const n=l.Pb();l.Ob(0,"button",7),l.Vb("click",function(){return l.hc(n),l.Zb().incrementCounter()}),l.mc(1," + "),l.Nb()}2&n&&l.cc("disabled",t.ngIf.isLoading)}function p(n,t){if(1&n&&(l.Ob(0,"span",8),l.mc(1),l.Nb()),2&n){const n=t.ngIf;l.Bb("bg-green-100",n.isFetching),l.zb(1),l.nc((null==n.data?null:n.data.count)||0)}}function f(n,t){if(1&n){const n=l.Pb();l.Ob(0,"button",7),l.Vb("click",function(){return l.hc(n),l.Zb().decrementCounter()}),l.mc(1," - "),l.Nb()}2&n&&l.cc("disabled",t.ngIf.isLoading)}function m(n,t){if(1&n&&(l.Ob(0,"option",9),l.mc(1),l.Nb()),2&n){const n=t.$implicit;l.cc("value",n.value),l.zb(1),l.oc(" ",n.label," ")}}let g=(()=>{class n{constructor(){this.id="",this.pollingOptions=u,this.pollingInterval=new a.a(this.pollingOptions[0].value),this.pollingInterval$=this.pollingInterval.asObservable(),this.options$=this.pollingInterval$.pipe(Object(r.a)(n=>({pollingInterval:n}))),this.countQuery=Object(s.i)(this.options$),this.increment=Object(s.g)(),this.decrement=Object(s.c)()}ngOnInit(){this.countQuery.fetch(this.id)}changePollingInterval(n){this.pollingInterval.next(+n)}incrementCounter(){this.increment.dispatch({id:this.id,amount:1})}decrementCounter(){this.decrement.dispatch({id:this.id,amount:1})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Db({type:n,selectors:[["app-counter"]],inputs:{id:"id"},decls:13,vars:14,consts:[[1,"space-y-4"],[1,"font-medium","text-md"],[1,"flex","items-center","space-x-4"],["class","btn-outline btn-primary",3,"disabled","click",4,"ngIf"],["class","text-3xl font-bold",3,"bg-green-100",4,"ngIf"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"],[3,"value"]],template:function(n,t){1&n&&(l.Ob(0,"section",0),l.Ob(1,"h1",1),l.mc(2),l.Nb(),l.Ob(3,"div",2),l.kc(4,d,2,1,"button",3),l.ac(5,"async"),l.kc(6,p,2,3,"span",4),l.ac(7,"async"),l.kc(8,f,2,1,"button",3),l.ac(9,"async"),l.Ob(10,"select",5),l.Vb("ngModelChange",function(n){return t.changePollingInterval(n)}),l.ac(11,"async"),l.kc(12,m,2,2,"option",6),l.Nb(),l.Nb(),l.Nb()),2&n&&(l.zb(2),l.nc(t.id),l.zb(2),l.cc("ngIf",l.bc(5,6,t.increment.state$)),l.zb(2),l.cc("ngIf",l.bc(7,8,t.countQuery.state$)),l.zb(2),l.cc("ngIf",l.bc(9,10,t.decrement.state$)),l.zb(2),l.cc("ngModel",l.bc(11,12,t.pollingInterval$)),l.zb(2),l.cc("ngForOf",t.pollingOptions))},directives:[e.l,i.n,i.i,i.k,e.k,i.l,i.q],pipes:[e.b],encapsulation:2,changeDetection:0}),n})();function h(n,t){if(1&n){const n=l.Pb();l.Ob(0,"button",11),l.Vb("click",function(){return l.hc(n),l.Zb().increment.dispatch(1)}),l.mc(1," + "),l.Nb()}2&n&&l.cc("disabled",t.ngIf.isLoading)}function O(n,t){if(1&n&&(l.Ob(0,"span",12),l.mc(1),l.Nb()),2&n){const n=t.ngIf;l.zb(1),l.nc((null==n.data?null:n.data.count)||0)}}function v(n,t){if(1&n&&(l.Ob(0,"div",13),l.Kb(1,"app-counter",14),l.Nb()),2&n){const n=t.$implicit;l.zb(1),l.cc("id",n)}}const y=[{path:"",component:(()=>{class n{constructor(){this.countQuery$=Object(s.f)(),this.increment=Object(s.h)(),this.decrement=Object(s.d)(),this.counters=[]}addCounter(){this.counters=[...this.counters,Object(b.k)()]}trackByFn(n,t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Db({type:n,selectors:[["app-counter-manager"]],decls:27,vars:13,consts:[[1,"space-y-8"],[1,"space-y-4"],[1,"text-xl","font-semibold"],[1,"flex","items-center","space-x-4"],["class","btn-outline btn-primary",3,"disabled","click",4,"ngIf"],["class","text-3xl font-bold",4,"ngIf"],[1,"btn-outline","btn-primary",3,"click"],[1,"mt-6","text-xs","bg-gray-200"],[1,"flex","items-center","space-x-8"],[1,"btn","btn-primary",3,"click"],["class","w-full mt-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"],[1,"w-full","mt-6"],[3,"id"]],template:function(n,t){1&n&&(l.Ob(0,"div",0),l.Ob(1,"section",1),l.Ob(2,"h1",2),l.mc(3,"Main Counter"),l.Nb(),l.Ob(4,"div"),l.Ob(5,"div",3),l.kc(6,h,2,1,"button",4),l.ac(7,"async"),l.kc(8,O,2,1,"span",5),l.ac(9,"async"),l.Ob(10,"button",6),l.Vb("click",function(){return t.decrement.dispatch(1)}),l.mc(11,"-"),l.Nb(),l.Nb(),l.Ob(12,"small"),l.mc(13,"Decrease is a optimistic update!"),l.Nb(),l.Ob(14,"p",7),l.Ob(15,"code"),l.mc(16),l.ac(17,"json"),l.ac(18,"async"),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(19,"section",1),l.Kb(20,"hr"),l.Ob(21,"div",8),l.Ob(22,"h1",2),l.mc(23,"Counters List"),l.Nb(),l.Ob(24,"button",9),l.Vb("click",function(){return t.addCounter()}),l.mc(25,"Add individual counter"),l.Nb(),l.Nb(),l.kc(26,v,2,1,"div",10),l.Nb(),l.Nb()),2&n&&(l.zb(6),l.cc("ngIf",l.bc(7,5,t.increment.state$)),l.zb(2),l.cc("ngIf",l.bc(9,7,t.countQuery$)),l.zb(8),l.nc(l.bc(17,9,l.bc(18,11,t.countQuery$))),l.zb(10),l.cc("ngForOf",t.counters)("ngForTrackBy",t.trackByFn))},directives:[e.l,e.k,g],pipes:[e.b,e.f],encapsulation:2,changeDetection:0}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({imports:[[o.k.forChild(y)],o.k]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({imports:[[e.c,k,i.h]]}),n})()}}]);