"use strict";(self.webpackChunkngrx_rtk_query_app=self.webpackChunkngrx_rtk_query_app||[]).push([[865],{9865:(C,l,u)=>{u.r(l),u.d(l,{LazyModule:()=>Z});var m=u(4755),r=u(5030),p=u(3584),d=u(5861),i=u(2953),t=u(2223);let y=(()=>{class n{constructor(){this.increment=(0,i.k9)(),this.decrement=(0,i.bG)()}incrementCounter(){this.increment.dispatch({id:this.counterData?.originalArgs??"",amount:1})}decrementCounter(){this.decrement.dispatch({id:this.counterData?.originalArgs??"",amount:1})}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-counter-row"]],inputs:{counterData:"counterData"},decls:7,vars:5,consts:[[1,"mt-4","flex","items-center","space-x-4"],[1,"btn-outline","btn-primary",3,"disabled","click"],[1,"text-3xl","font-bold"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return e.incrementCounter()}),t._uU(2," + "),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){return e.decrementCounter()}),t._uU(6," - "),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("disabled",e.increment.state().isLoading||(null==e.counterData?null:e.counterData.isUninitialized)),t.xp6(2),t.ekj("bg-green-100",null==e.counterData?null:e.counterData.isFetching),t.xp6(1),t.Oqu((null==e.counterData||null==e.counterData.data?null:e.counterData.data.count)||0),t.xp6(1),t.Q6J("disabled",e.decrement.state().isLoading||(null==e.counterData?null:e.counterData.isUninitialized)))},encapsulation:2,changeDetection:0}),n})();const{getCountById:h}=i.counterApiEndpoints,f=[{path:"",component:(()=>{class n{constructor(o){this.formBuilder=o,this.countLazyQuery=(0,i.v)(),this.selectFromState=h.useQueryState(this.countLazyQuery.lastArg),this.countQuery=(0,i._o)(this.countLazyQuery.lastArg),this.form=this.formBuilder.group({id:["",[r.kI.required,r.kI.minLength(2)]],preferCacheValue:[!1]})}startCounterById({id:o,preferCacheValue:e}){var s=this;return(0,d.Z)(function*(){s.countLazyQuery.fetch(o,{preferCacheValue:e}).unwrap().then(c=>{console.log("result method 1",c),s.form.reset()}).catch(console.error);try{const c=yield s.countLazyQuery.fetch(o,{preferCacheValue:e}).unwrap();console.log("result method 2",c),s.form.reset()}catch(c){console.error(c)}})()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(r.QS))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lazy"]],decls:35,vars:8,consts:[[1,"space-y-6"],[3,"formGroup","ngSubmit"],[1,"text-xl","font-semibold"],["type","text","placeholder","Type counter id","formControlName","id"],["type","submit",1,"btn","btn-primary","m-4",3,"disabled"],["for","preferCacheValue",1,"space-x-2","text-sm"],["id","preferCacheValue","type","checkbox","formControlName","preferCacheValue"],[1,"space-y-4"],[1,"text-md","font-medium"],[3,"counterData"],[1,"mt-8","space-y-8"],[1,"text-sm"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return e.startCounterById(e.form.value)}),t.TgZ(2,"h1",2),t._uU(3,"Start Lazy Counter"),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"input",3),t.TgZ(6,"button",4),t._uU(7),t.qZA(),t.TgZ(8,"label",5),t._UZ(9,"input",6),t.TgZ(10,"span"),t._uU(11,"Prefer Cache (No fetch if counter exists with same id in cache)"),t.qZA()()()(),t.TgZ(12,"section",7)(13,"h1",8),t._uU(14),t.qZA(),t._UZ(15,"app-counter-row",9),t.qZA()(),t.TgZ(16,"div",10)(17,"section",7)(18,"h1",8),t._uU(19,"Duplicate state (Share state, subscription & selectFromResult)"),t.qZA(),t.TgZ(20,"h1",11),t._uU(21,"Use in same component (not subscripted by self)"),t.qZA(),t._UZ(22,"app-counter-row",9),t.qZA(),t.TgZ(23,"section",7)(24,"h1",8),t._uU(25,"Select from state (Share state & subscription, another selectFromResult)"),t.qZA(),t.TgZ(26,"h1",11),t._uU(27,"Use in same component or child components (not subscripted by self)"),t.qZA(),t._UZ(28,"app-counter-row",9),t.qZA(),t.TgZ(29,"section",7)(30,"h1",8),t._uU(31," Related Query (Share cache data / another subscription & selectFromResult or Options) "),t.qZA(),t.TgZ(32,"h1",11),t._uU(33,"Use anywhere (subscripted by self), skip subscribe with uninitialized value"),t.qZA(),t._UZ(34,"app-counter-row",9),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("disabled",e.form.invalid||e.countLazyQuery.state().isLoading),t.xp6(1),t.hij(" ",e.countLazyQuery.state().isLoading?"Starting...":"Start Counter"," "),t.xp6(7),t.hij("Current id: ",e.countLazyQuery.state().originalArgs||"Not Started",""),t.xp6(1),t.Q6J("counterData",e.countLazyQuery.state()),t.xp6(7),t.Q6J("counterData",e.countLazyQuery.state()),t.xp6(6),t.Q6J("counterData",e.selectFromState()),t.xp6(6),t.Q6J("counterData",e.countQuery()))},dependencies:[r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u,y],encapsulation:2,changeDetection:0}),n})()}];let g=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(f),p.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,g,r.u5,r.UX]}),n})()}}]);