(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{YanU:function(t,n,s){"use strict";s.r(n),s.d(n,"PostsModule",function(){return j});var e=s("ofXK"),i=s("3Pt+"),c=s("tyNb"),o=s("fXoL"),a=s("5VZZ");function b(t,n){1&t&&(o.Mb(0,"small"),o.ic(1,"Loading..."),o.Lb())}const l=function(t){return["/posts",t]};function r(t,n){if(1&t&&(o.Mb(0,"li"),o.Mb(1,"a",6),o.ic(2),o.Lb(),o.Lb()),2&t){const t=n.$implicit;o.zb(1),o.Yb("routerLink",o.ac(2,l,t.id)),o.zb(1),o.jc(t.name)}}function u(t,n){if(1&t&&(o.Mb(0,"div"),o.gc(1,r,3,4,"li",5),o.Lb()),2&t){const t=o.Vb().ngIf,n=o.Vb();o.zb(1),o.Yb("ngForOf",null==t?null:t.data)("ngForTrackBy",n.trackByFn)}}function p(t,n){1&t&&(o.Mb(0,"p",7),o.ic(1,"No posts :("),o.Lb())}function d(t,n){if(1&t&&(o.Mb(0,"section",1),o.gc(1,b,2,0,"small",2),o.gc(2,u,2,2,"div",3),o.gc(3,p,2,0,"ng-template",null,4,o.hc),o.Lb()),2&t){const t=n.ngIf,s=o.cc(4);o.zb(1),o.Yb("ngIf",t.isLoading),o.zb(1),o.Yb("ngIf",null==t||null==t.data?null:t.data.length)("ngIfElse",s)}}let f=(()=>{class t{constructor(){this.postsQuery$=Object(a.d)()}trackByFn(t,n){return n.id}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-posts-list"]],decls:2,vars:3,consts:[["class","space-y-4",4,"ngIf"],[1,"space-y-4"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noPosts",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"hover:underline",3,"routerLink"],[1,"mt-4"]],template:function(t,n){1&t&&(o.gc(0,d,5,3,"section",0),o.Wb(1,"async")),2&t&&o.Yb("ngIf",o.Xb(1,1,n.postsQuery$))},directives:[e.k,e.j,c.i],pipes:[e.b],encapsulation:2,changeDetection:0}),t})(),g=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-posts-manager"]],decls:8,vars:0,consts:[[1,"space-y-8"],[1,"text-xl","font-semibold"]],template:function(t,n){1&t&&(o.Mb(0,"section",0),o.Mb(1,"h1",1),o.ic(2,"Posts List"),o.Lb(),o.Kb(3,"app-posts-list"),o.Kb(4,"hr"),o.Mb(5,"h1",1),o.ic(6,"Posts List with duplicate subscription"),o.Lb(),o.Kb(7,"app-posts-list"),o.Lb())},directives:[f],encapsulation:2,changeDetection:0}),t})();var m=s("lJxs"),L=s("dJ3e");function h(t,n){1&t&&(o.Mb(0,"small"),o.ic(1,"Refetching..."),o.Lb())}function y(t,n){if(1&t&&(o.Mb(0,"button",9),o.ic(1),o.Lb()),2&t){const t=n.ngIf,s=o.Vb().ngIf,e=o.Vb().ngIf;o.Yb("disabled",e.isLoading||s.isLoading||t.isLoading),o.zb(1),o.kc(" ",null!=t&&t.isLoading?"Updating...":"Edit"," ")}}function I(t,n){if(1&t){const t=o.Nb();o.Mb(0,"div",6),o.gc(1,y,2,2,"button",7),o.Wb(2,"async"),o.Mb(3,"button",8),o.Tb("click",function(){o.dc(t);const n=o.Vb().ngIf;return o.Vb().deletePost(null==n.data?null:n.data.id)}),o.ic(4),o.Lb(),o.Lb()}if(2&t){const t=n.ngIf,s=o.Vb().ngIf,e=o.Vb();o.zb(1),o.Yb("ngIf",o.Xb(2,3,e.updatePostMutation.state$)),o.zb(2),o.Yb("disabled",s.isLoading||t.isLoading),o.zb(1),o.kc(" ",null!=t&&t.isLoading?"Deleting...":"Delete"," ")}}function M(t,n){if(1&t&&(o.Mb(0,"section",1),o.Mb(1,"div"),o.Mb(2,"h1",2),o.ic(3),o.Lb(),o.gc(4,h,2,0,"small",3),o.Lb(),o.gc(5,I,5,5,"div",4),o.Wb(6,"async"),o.Mb(7,"pre",5),o.ic(8),o.Wb(9,"json"),o.Lb(),o.Lb()),2&t){const t=n.ngIf,s=o.Vb();o.zb(3),o.jc(null==t||null==t.data?null:t.data.name),o.zb(1),o.Yb("ngIf",t.isFetching),o.zb(1),o.Yb("ngIf",o.Xb(6,4,s.deletePostMutation.state$)),o.zb(3),o.jc(o.Xb(9,6,t.data))}}const k=[{path:"",component:g},{path:":id",component:(()=>{class t{constructor(t,n){this.route=t,this.router=n,this.postQuery$=Object(L.h)(this.route.params.pipe(Object(m.a)(t=>+t.id))),this.updatePostMutation=Object(L.k)(),this.deletePostMutation=Object(L.e)()}updatePost(t){}deletePost(t=0){this.deletePostMutation.dispatch(t),this.router.navigate(["/posts"])}}return t.\u0275fac=function(n){return new(n||t)(o.Jb(c.a),o.Jb(c.g))},t.\u0275cmp=o.Db({type:t,selectors:[["app-post-detail"]],decls:2,vars:3,consts:[["class","space-y-4",4,"ngIf"],[1,"space-y-4"],[1,"text-xl","font-semibold"],[4,"ngIf"],["class","flex items-center space-x-4",4,"ngIf"],[1,"bg-gray-200"],[1,"flex","items-center","space-x-4"],["class","btn-outline btn-primary",3,"disabled",4,"ngIf"],[1,"m-4","btn-outline","btn-primary",3,"disabled","click"],[1,"btn-outline","btn-primary",3,"disabled"]],template:function(t,n){1&t&&(o.gc(0,M,10,8,"section",0),o.Wb(1,"async")),2&t&&o.Yb("ngIf",o.Xb(1,1,n.postQuery$))},directives:[e.k],pipes:[e.b,e.f],encapsulation:2,changeDetection:0}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({imports:[[c.j.forChild(k)],c.j]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({imports:[[e.c,v,i.a]]}),t})()}}]);